<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Do you love me?</title>
  <style>
    :root{--bg:#100620;--card:#fff;--accent:#ff5370}
    *{box-sizing:border-box}
    body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; background:var(--bg); color:var(--card); display:flex; align-items:center; justify-content:center; min-height:100vh;}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02)); padding:28px; border-radius:14px; width:min(680px,92%); text-align:center; box-shadow:0 10px 30px rgba(0,0,0,0.5)}
    h1{margin:0 0 8px; font-size:28px; color:#ffdbe6}
    p.lead{margin:0 0 18px; color:#ffd0e0}
    .buttons{display:flex; gap:12px; justify-content:center; margin-top:6px}
    button{padding:10px 16px; border-radius:10px; border:none; font-weight:600; cursor:pointer; transition:transform .12s ease; box-shadow:0 6px 18px rgba(0,0,0,0.35)}
    button:active{transform:translateY(2px)}
    .btn-yes{background:linear-gradient(90deg,#ff9aa2,#ff6b9f); color:white}
    .btn-no{background:linear-gradient(90deg,#7a7bff,#6fd3ff); color:#051232}
    #message{margin-top:18px; min-height:58px}
    #cute{margin-top:18px; background:rgba(255,255,255,0.04); padding:12px; border-radius:10px; display:none; color:#fff; line-height:1.4}
    #apology{display:none; margin-top:18px; color:#f0c0d0}
    canvas#fw{position:fixed; left:0; top:0; width:100%; height:100%; pointer-events:none; z-index:20; display:none}
    .small{font-size:.85rem; color:#ffdbe6; margin-top:8px}
    footer{font-size:.78rem; color:#cfc; margin-top:14px}
  </style>
</head>
<body>
  <canvas id="fw"></canvas>
  <div class="card" role="dialog" aria-labelledby="q">
    <h1 id="q">Do you love me?</h1>
    <p class="lead">Tell me honestly ‚Äî it's okay either way üí´</p>

    <div class="buttons" id="controls">
      <button class="btn-yes" id="yesBtn">Yes ‚ù§Ô∏è</button>
      <button class="btn-no" id="noBtn">No üíî</button>
    </div>

    <div id="message" aria-live="polite"></div>
    <div id="cute" aria-hidden="true">
      <h3>Fireworks for you üéÜ</h3>
      <p>Every little moment with you becomes a memory I keep warm in my heart. Thank you for bei
<script>
/* Interaction logic */
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const message = document.getElementById('message');
const cute = document.getElementById('cute');
const apology = document.getElementById('apology');
const fwCanvas = document.getElementById('fw');

let noCount = 0;
let answered = false;

yesBtn.addEventListener('click', ()=> {
  if (answered) return;
  answered = true;
  message.textContent = "Yay! üíñ Celebrating you...";
  launchFireworks();            // start fireworks
  setTimeout(()=> {
    showCuteParagraph();
  }, 600); // allow a little time for fireworks to start
  disableButtons();
});

noBtn.addEventListener('click', ()=> {
  if (answered) return;
  noCount++;
  if (noCount === 1) {
    message.textContent = "Oh‚Ä¶ are you sure? (Try again)";
  } else if (noCount === 2) {
    message.textContent = "Still no? One more time?";
  } else {
    message.textContent = "Okay ‚Äî I respect your answer.";
    apology.style.display = 'block';
    disableButtons();
    answered = true;
  }
});

/* disable both buttons */
function disableButtons(){
  yesBtn.disabled = true;
  noBtn.disabled = true;
  yesBtn.style.opacity = noBtn.style.opacity = 0.7;
}

/* reveal paragraph */
function showCuteParagraph(){
  cute.style.display = 'block';
  cute.setAttribute('aria-hidden','false');
  // gentle scroll into view if needed
  cute.scrollIntoView({behavior:'smooth', block:'center'});
}

/* ---------------------------
   Fireworks canvas effect
   --------------------------- */
(() => {
  const canvas = fwCanvas;
  const ctx = canvas.getContext('2d');
  let W = canvas.width = innerWidth;
  let H = canvas.height = innerHeight;
  let particles = [];
  let fireworks = [];
  let animId = null;
  let running = false;

  window.addEventListener('resize', ()=> {
    W = canvas.width = innerWidth;
    H = canvas.height = innerHeight;
  });

  // particle constructor
  function Particle(x,y, vx, vy, color, life){
    this.x = x; this.y = y;
    this.vx = vx; this.vy = vy;
    this.alpha = 1;
    this.color = color;
    this.life = life || 80;
    this.size = Math.random()*2 + 1;
  }
  Particle.prototype.update = function(){
    this.x += this.vx;
    this.y += this.vy;
    this.vy += 0.02; // gravity
    this.vx *= 0.99;
    this.vy *= 0.99;
    this.alpha -= 1/this.life;
    this.size *= 0.995;
  }
  Particle.prototype.draw = function(){
    ctx.globalAlpha = Math.max(this.alpha,0);
    ctx.beginPath();
    ctx.fillStyle = this.color;
    ctx.arc(this.x, this.y, Math.max(this.size,0.5), 0, Math.PI*2);
    ctx.fill();
  }

  // create an explosion at x,y
  function explode(x,y, hue, count){
    count = count || 80;
    for (let i=0;i<count;i++){
      const angle = Math.random()*Math.PI*2;
      const speed = Math.random()*5 + 1.5;
      const vx = Math.cos(angle)*speed;
      const vy = Math.sin(angle)*speed;
      const color = `hsl(${(hue + Math.random()*50 - 25)|0}, 85%, 60%)`;
      particles.push(new Particle(x,y,vx,vy,color, 60 + Math.random()*40));
    }
  }

  // launch fireworks: create rockets that explode mid-air
  function start() {
    if (running) return;
    running = true;
    canvas.style.display = 'block';
    loop();
    // orchestrate repeated bursts for a few seconds
    const bursts = 6;
    let i = 0;
    const interval = setInterval(()=> {
      // random position across top half
      const x = Math.random()*(W*0.8) + W*0.1;
      const y = Math.random()*(H*0.45) + H*0.1;
      const hue = Math.random()*360;
      explode(x,y,hue, 60 + Math.floor(Math.random()*80));
      i++;
      if (i >= bursts) {
        clearInterval(interval);
        // let particles fade naturally, then stop canvas display
        setTimeout(()=> stop(), 3000);
      }
    }, 450);
  }

  function stop(){
    // stop when no particles left
    const t = setInterval(()=>{
      if (particles.length === 0) {
        running = false;
        cancelAnimationFrame(animId);
        ctx.clearRect(0,0,W,H);
        canvas.style.display = 'none';
        clearInterval(t);
      }
    }, 200);
  }

  function loop(){
    animId = requestAnimationFrame(loop);
    ctx.globalCompositeOperation = 'destination-out';
    ctx.fillStyle = 'rgba(0,0,0,0.25)';
    ctx.fillRect(0,0,W,H);
    ctx.globalCompositeOperation = 'lighter';
    for (let i = particles.length-1; i >= 0; i--){
      const p = particles[i];
      p.update();
      p.draw();
      if (p.alpha <= 0 || p.size <= 0.3) particles.splice(i,1);
    }
  }

  // expose
  window.launchFireworks = () => { start(); };
})();
</script>
</body>
</html>
